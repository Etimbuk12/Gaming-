<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fun Games - Powered by Goodnews</title>
    <style>
        /* All previous CSS remains exactly the same */
        :root {
            --primary: #0a0e29;
            --secondary: #1a1f4b;
            --accent: #ffd700;
            --accent2: #00ffff;
            --text: #ffffff;
            --glass: rgba(255, 255, 255, 0.1);
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            --border-radius: 12px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, var(--primary), #000);
            color: var(--text);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            border-bottom: 1px solid var(--glass);
            margin-bottom: 30px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo h1 {
            font-size: 2.5rem;
            background: linear-gradient(to right, var(--accent), var(--accent2));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }

        .powered-by {
            font-size: 0.9rem;
            opacity: 0.8;
            text-align: right;
        }

        .stats-bar {
            display: flex;
            justify-content: space-between;
            background: var(--glass);
            backdrop-filter: blur(10px);
            border-radius: var(--border-radius);
            padding: 15px;
            margin-bottom: 30px;
            box-shadow: var(--shadow);
        }

        .stat-item {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--accent);
        }

        .stat-label {
            font-size: 0.8rem;
            opacity: 0.7;
        }

        .game-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .game-card {
            background: var(--glass);
            backdrop-filter: blur(10px);
            border-radius: var(--border-radius);
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: var(--shadow);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .game-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.4);
            border-color: var(--accent2);
        }

        .game-icon {
            font-size: 3rem;
            margin-bottom: 15px;
            color: var(--accent);
        }

        .game-title {
            font-size: 1.2rem;
            margin-bottom: 10px;
        }

        .game-desc {
            font-size: 0.9rem;
            opacity: 0.8;
            margin-bottom: 15px;
        }

        .difficulty-badge {
            display: inline-block;
            padding: 3px 10px;
            border-radius: 20px;
            font-size: 0.7rem;
            margin: 2px;
        }

        .easy { background: rgba(0, 255, 0, 0.2); color: #00ff00; }
        .medium { background: rgba(255, 255, 0, 0.2); color: #ffff00; }
        .hard { background: rgba(255, 165, 0, 0.2); color: #ffa500; }
        .expert { background: rgba(255, 0, 0, 0.2); color: #ff0000; }

        .game-screen {
            display: none;
            background: var(--glass);
            backdrop-filter: blur(10px);
            border-radius: var(--border-radius);
            padding: 20px;
            box-shadow: var(--shadow);
            min-height: 500px;
        }

        .game-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--glass);
        }

        .back-button {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: var(--text);
            padding: 8px 15px;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .back-button:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .game-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            flex-grow: 1;
        }

        .achievements-section {
            background: var(--glass);
            backdrop-filter: blur(10px);
            border-radius: var(--border-radius);
            padding: 20px;
            margin-top: 30px;
            box-shadow: var(--shadow);
        }

        .section-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: var(--accent);
        }

        .achievements-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
        }

        .achievement-card {
            background: rgba(0, 0, 0, 0.3);
            border-radius: var(--border-radius);
            padding: 15px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .achievement-card.locked {
            opacity: 0.5;
        }

        .achievement-icon {
            font-size: 2rem;
            margin-bottom: 10px;
            color: var(--accent);
        }

        .achievement-name {
            font-weight: bold;
            margin-bottom: 5px;
        }

        .achievement-desc {
            font-size: 0.8rem;
            opacity: 0.8;
        }

        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background: var(--accent);
            opacity: 0;
            pointer-events: none;
        }

        @keyframes confetti-fall {
            0% { transform: translateY(-100px) rotate(0deg); opacity: 1; }
            100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
        }

        @media (max-width: 768px) {
            .game-grid {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            }
            
            .stats-bar {
                flex-wrap: wrap;
                gap: 10px;
            }
            
            .logo h1 {
                font-size: 2rem;
            }
        }

        /* Poker Game Styles */
        .poker-table {
            background: #0a5c36;
            border-radius: var(--border-radius);
            padding: 20px;
            width: 100%;
            max-width: 600px;
            margin: 0 auto;
            position: relative;
            box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.5);
        }

        .player-hand {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
        }

        .card {
            width: 80px;
            height: 120px;
            background: white;
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            padding: 10px;
            color: black;
            font-weight: bold;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
        }

        .card.red { color: red; }
        .card .top-value { align-self: flex-start; }
        .card .bottom-value { align-self: flex-end; transform: rotate(180deg); }
        .card .center-value { align-self: center; font-size: 1.5rem; }

        .betting-controls {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
        }

        .bet-button {
            background: var(--accent);
            color: var(--primary);
            border: none;
            padding: 10px 20px;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .bet-button:hover {
            background: #ffed4e;
            transform: scale(1.05);
        }

        /* Memory Matrix Styles */
        .memory-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            max-width: 400px;
            margin: 0 auto;
        }

        .memory-cell {
            width: 80px;
            height: 80px;
            background: var(--secondary);
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            transition: all 0.3s ease;
        }

        .memory-cell.active {
            background: var(--accent2);
            color: var(--primary);
        }

        /* Math Challenge Styles */
        .math-problem {
            font-size: 2.5rem;
            margin: 20px 0;
            text-align: center;
        }

        .math-answers {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            max-width: 400px;
            margin: 0 auto;
        }

        .math-answer {
            background: var(--secondary);
            border: none;
            color: var(--text);
            padding: 15px;
            border-radius: var(--border-radius);
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .math-answer:hover {
            background: var(--accent);
            color: var(--primary);
        }

        /* Slot Machine Styles */
        .slot-machine {
            background: #1a1f4b;
            border-radius: var(--border-radius);
            padding: 20px;
            max-width: 400px;
            margin: 0 auto;
            box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.5);
        }

        .slot-reels {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
        }

        .slot-reel {
            width: 80px;
            height: 120px;
            background: white;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: black;
            overflow: hidden;
            position: relative;
        }

        .reel-strip {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            transition: top 2s cubic-bezier(0.21, 0.53, 0.29, 0.99);
        }

        .reel-item {
            height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .spin-button {
            background: var(--accent);
            color: var(--primary);
            border: none;
            padding: 15px 30px;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-size: 1.2rem;
            font-weight: bold;
            margin: 20px auto;
            display: block;
            transition: all 0.3s ease;
        }

        .spin-button:hover {
            background: #ffed4e;
            transform: scale(1.05);
        }

        /* NEW GAME STYLES */
        /* Trivia Game Styles */
        .trivia-container {
            max-width: 600px;
            margin: 0 auto;
        }

        .trivia-category {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
        }

        .category-button {
            background: var(--secondary);
            border: none;
            color: var(--text);
            padding: 10px 15px;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .category-button.active {
            background: var(--accent);
            color: var(--primary);
        }

        .trivia-question {
            font-size: 1.3rem;
            margin: 20px 0;
            text-align: center;
            min-height: 80px;
        }

        .trivia-answers {
            display: grid;
            grid-template-columns: 1fr;
            gap: 10px;
            margin: 20px 0;
        }

        .trivia-answer {
            background: var(--secondary);
            border: none;
            color: var(--text);
            padding: 15px;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
        }

        .trivia-answer:hover {
            background: var(--accent);
            color: var(--primary);
        }

        .trivia-answer.correct {
            background: #00ff00;
            color: var(--primary);
        }

        .trivia-answer.incorrect {
            background: #ff0000;
            color: white;
        }

        /* Number Prediction Styles */
        .prediction-container {
            max-width: 500px;
            margin: 0 auto;
        }

        .sequence-type {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
        }

        .sequence-button {
            background: var(--secondary);
            border: none;
            color: var(--text);
            padding: 10px 15px;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .sequence-button.active {
            background: var(--accent);
            color: var(--primary);
        }

        .sequence-display {
            font-size: 1.5rem;
            margin: 20px 0;
            text-align: center;
            min-height: 60px;
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: var(--border-radius);
        }

        .prediction-options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin: 20px 0;
        }

        .prediction-option {
            background: var(--secondary);
            border: none;
            color: var(--text);
            padding: 15px;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.2rem;
        }

        .prediction-option:hover {
            background: var(--accent);
            color: var(--primary);
        }

        /* Word Association Styles */
        .word-association-container {
            max-width: 600px;
            margin: 0 auto;
        }

        .word-chain {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
            min-height: 60px;
        }

        .word-item {
            background: var(--secondary);
            padding: 10px 15px;
            border-radius: var(--border-radius);
            transition: all 0.3s ease;
        }

        .word-item.current {
            background: var(--accent);
            color: var(--primary);
            transform: scale(1.1);
        }

        .word-options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin: 20px 0;
        }

        .word-option {
            background: var(--secondary);
            border: none;
            color: var(--text);
            padding: 15px;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .word-option:hover {
            background: var(--accent);
            color: var(--primary);
        }

        .progress-container {
            width: 100%;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            margin: 10px 0;
            overflow: hidden;
        }

        .progress-bar {
            height: 10px;
            background: linear-gradient(to right, var(--accent2), var(--accent));
            border-radius: 10px;
            width: 0%;
            transition: width 0.5s ease;
        }

        /* Notification System */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--glass);
            backdrop-filter: blur(10px);
            border-left: 4px solid var(--accent);
            padding: 15px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            transform: translateX(150%);
            transition: transform 0.5s ease;
            z-index: 1000;
            max-width: 300px;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification-title {
            font-weight: bold;
            margin-bottom: 5px;
            color: var(--accent);
        }

        /* Loading Spinner */
        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid rgba(255, 255, 255, 0.1);
            border-left: 4px solid var(--accent);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Screen Shake Animation */
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }

        .shake {
            animation: shake 0.5s ease;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <h1>Fun Games</h1>
            </div>
            <div class="powered-by">
                Powered by <strong>Goodnews</strong>
            </div>
        </header>

        <div class="stats-bar">
            <div class="stat-item">
                <div class="stat-value" id="coins">1,000</div>
                <div class="stat-label">COINS</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="level">1</div>
                <div class="stat-label">LEVEL</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="streak">0</div>
                <div class="stat-label">STREAK</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="achievements">0/20</div>
                <div class="stat-label">ACHIEVEMENTS</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="jackpot">5,000</div>
                <div class="stat-label">JACKPOT</div>
            </div>
        </div>

        <div class="game-grid" id="gameGrid">
            <!-- Game cards will be generated by JavaScript -->
        </div>

        <div class="game-screen" id="gameScreen">
            <!-- Game content will be loaded here -->
        </div>

        <div class="achievements-section">
            <h2 class="section-title">Achievements</h2>
            <div class="achievements-grid" id="achievementsGrid">
                <!-- Achievements will be generated by JavaScript -->
            </div>
        </div>
    </div>

    <div class="notification" id="notification">
        <div class="notification-title" id="notificationTitle">Achievement Unlocked!</div>
        <div class="notification-message" id="notificationMessage">You've unlocked an achievement!</div>
    </div>

    <script>
        // Game Data and State
        const gameState = {
            coins: 1000,
            level: 1,
            streak: 0,
            achievements: 0,
            jackpot: 5000,
            gamesPlayed: 0,
            totalWins: 0,
            dailyChallenges: 0
        };

        // Games Collection
        const games = [
            {
                id: 'poker',
                title: 'Poker Hand Simulator',
                description: '5-card draw with betting system',
                icon: '♠️',
                difficulties: ['Easy', 'Medium', 'Hard', 'Expert']
            },
            {
                id: 'memory',
                title: 'Advanced Memory Matrix',
                description: 'Remember complex patterns and sequences',
                icon: '🧠',
                difficulties: ['Easy', 'Medium', 'Hard', 'Expert']
            },
            {
                id: 'math',
                title: 'Speed Math Challenge',
                description: 'Rapid arithmetic with time pressure',
                icon: '🔢',
                difficulties: ['Easy', 'Medium', 'Hard', 'Expert']
            },
            {
                id: 'simon',
                title: 'Color/Pattern Sequence',
                description: 'Simon-style with 10+ colors and sounds',
                icon: '🎨',
                difficulties: ['Easy', 'Medium', 'Hard', 'Expert']
            },
            {
                id: 'trivia',
                title: 'Trivia Categories',
                description: '200+ questions across multiple categories',
                icon: '❓',
                difficulties: ['Easy', 'Medium', 'Hard', 'Expert']
            },
            {
                id: 'slots',
                title: 'Slot Machine 3-Reel',
                description: 'Real slot mechanics with bonus rounds',
                icon: '🎰',
                difficulties: ['Easy', 'Medium', 'Hard', 'Expert']
            },
            {
                id: 'prediction',
                title: 'Number Prediction',
                description: 'Fibonacci, prime sequences, and patterns',
                icon: '🔮',
                difficulties: ['Easy', 'Medium', 'Hard', 'Expert']
            },
            {
                id: 'words',
                title: 'Word Association Chain',
                description: 'Connect words logically within time limits',
                icon: '📝',
                difficulties: ['Easy', 'Medium', 'Hard', 'Expert']
            }
        ];

        // Trivia Questions (15 questions per category)
        const triviaQuestions = {
            history: [
                {
                    question: "Who was the first President of the United States?",
                    options: ["Thomas Jefferson", "George Washington", "John Adams", "James Madison"],
                    answer: 1
                },
                {
                    question: "In which year did World War II end?",
                    options: ["1943", "1945", "1947", "1950"],
                    answer: 1
                },
                {
                    question: "Which ancient civilization built the Machu Picchu?",
                    options: ["Aztec", "Maya", "Inca", "Egyptian"],
                    answer: 2
                },
                {
                    question: "Who wrote the 'I Have a Dream' speech?",
                    options: ["Malcolm X", "Martin Luther King Jr.", "Rosa Parks", "John F. Kennedy"],
                    answer: 1
                },
                {
                    question: "Which empire was ruled by Julius Caesar?",
                    options: ["Greek", "Roman", "Persian", "Ottoman"],
                    answer: 1
                },
                {
                    question: "What was the name of the ship that brought the Pilgrims to America?",
                    options: ["Santa Maria", "Mayflower", "Nina", "Pinta"],
                    answer: 1
                },
                {
                    question: "Who discovered penicillin?",
                    options: ["Marie Curie", "Alexander Fleming", "Louis Pasteur", "Albert Einstein"],
                    answer: 1
                },
                {
                    question: "Which year did the Berlin Wall fall?",
                    options: ["1987", "1989", "1991", "1993"],
                    answer: 1
                },
                {
                    question: "Who was the first woman to win a Nobel Prize?",
                    options: ["Rosalind Franklin", "Marie Curie", "Dorothy Hodgkin", "Barbara McClintock"],
                    answer: 1
                },
                {
                    question: "Which ancient wonder was located in Babylon?",
                    options: ["Pyramids", "Hanging Gardens", "Colossus", "Lighthouse"],
                    answer: 1
                },
                {
                    question: "Who painted the Sistine Chapel ceiling?",
                    options: ["Raphael", "Leonardo da Vinci", "Michelangelo", "Donatello"],
                    answer: 2
                },
                {
                    question: "Which civilization invented writing?",
                    options: ["Egyptian", "Greek", "Sumerian", "Chinese"],
                    answer: 2
                },
                {
                    question: "What was the capital of the Byzantine Empire?",
                    options: ["Rome", "Athens", "Constantinople", "Alexandria"],
                    answer: 2
                },
                {
                    question: "Who was the first emperor of China?",
                    options: ["Confucius", "Qin Shi Huang", "Sun Tzu", "Lao Tzu"],
                    answer: 1
                },
                {
                    question: "Which year did the Titanic sink?",
                    options: ["1905", "1912", "1918", "1923"],
                    answer: 1
                }
            ],
            science: [
                {
                    question: "What is the chemical symbol for gold?",
                    options: ["Go", "Gd", "Au", "Ag"],
                    answer: 2
                },
                {
                    question: "Which planet is known as the Red Planet?",
                    options: ["Venus", "Mars", "Jupiter", "Saturn"],
                    answer: 1
                },
                {
                    question: "What is the hardest natural substance on Earth?",
                    options: ["Gold", "Iron", "Diamond", "Platinum"],
                    answer: 2
                },
                {
                    question: "How many bones are in the human body?",
                    options: ["196", "206", "216", "226"],
                    answer: 1
                },
                {
                    question: "What is the speed of light?",
                    options: ["299,792 km/s", "300,000 km/s", "299,792 m/s", "300,000 m/s"],
                    answer: 0
                },
                {
                    question: "Which gas do plants absorb from the atmosphere?",
                    options: ["Oxygen", "Nitrogen", "Carbon Dioxide", "Hydrogen"],
                    answer: 2
                },
                {
                    question: "What is the main component of the Sun?",
                    options: ["Helium", "Oxygen", "Hydrogen", "Carbon"],
                    answer: 2
                },
                {
                    question: "Which element has the atomic number 1?",
                    options: ["Helium", "Oxygen", "Hydrogen", "Lithium"],
                    answer: 2
                },
                {
                    question: "What is the study of fossils called?",
                    options: ["Geology", "Paleontology", "Archaeology", "Anthropology"],
                    answer: 1
                },
                {
                    question: "Which planet has the most moons?",
                    options: ["Jupiter", "Saturn", "Uranus", "Neptune"],
                    answer: 1
                },
                {
                    question: "What is the largest organ in the human body?",
                    options: ["Liver", "Brain", "Skin", "Heart"],
                    answer: 2
                },
                {
                    question: "Which scientist developed the theory of relativity?",
                    options: ["Newton", "Einstein", "Galileo", "Hawking"],
                    answer: 1
                },
                {
                    question: "What is the pH value of pure water?",
                    options: ["5", "6", "7", "8"],
                    answer: 2
                },
                {
                    question: "Which blood type is the universal donor?",
                    options: ["A", "B", "AB", "O"],
                    answer: 3
                },
                {
                    question: "What is the smallest unit of life?",
                    options: ["Atom", "Cell", "Molecule", "Organelle"],
                    answer: 1
                }
            ],
            geography: [
                {
                    question: "What is the largest ocean on Earth?",
                    options: ["Atlantic", "Indian", "Arctic", "Pacific"],
                    answer: 3
                },
                {
                    question: "Which country has the most natural lakes?",
                    options: ["USA", "Canada", "Russia", "China"],
                    answer: 1
                },
                {
                    question: "What is the capital of Australia?",
                    options: ["Sydney", "Melbourne", "Canberra", "Perth"],
                    answer: 2
                },
                {
                    question: "Which desert is the largest in the world?",
                    options: ["Sahara", "Gobi", "Arabian", "Antarctic"],
                    answer: 3
                },
                {
                    question: "What is the longest river in the world?",
                    options: ["Amazon", "Nile", "Yangtze", "Mississippi"],
                    answer: 1
                },
                {
                    question: "Which country is known as the Land of the Rising Sun?",
                    options: ["China", "Japan", "Thailand", "South Korea"],
                    answer: 1
                },
                {
                    question: "What is the smallest country in the world?",
                    options: ["Monaco", "Vatican City", "San Marino", "Liechtenstein"],
                    answer: 1
                },
                {
                    question: "Which mountain is the highest in the world?",
                    options: ["K2", "Mount Everest", "Kangchenjunga", "Lhotse"],
                    answer: 1
                },
                {
                    question: "What is the capital of Brazil?",
                    options: ["Rio de Janeiro", "São Paulo", "Brasília", "Salvador"],
                    answer: 2
                },
                {
                    question: "Which continent has the most countries?",
                    options: ["Asia", "Africa", "Europe", "South America"],
                    answer: 1
                },
                {
                    question: "What is the largest country by area?",
                    options: ["USA", "China", "Canada", "Russia"],
                    answer: 3
                },
                {
                    question: "Which river runs through Paris?",
                    options: ["Thames", "Seine", "Danube", "Rhine"],
                    answer: 1
                },
                {
                    question: "What is the capital of Egypt?",
                    options: ["Alexandria", "Cairo", "Giza", "Luxor"],
                    answer: 1
                },
                {
                    question: "Which U.S. state is known as the Sunshine State?",
                    options: ["California", "Florida", "Texas", "Arizona"],
                    answer: 1
                },
                {
                    question: "What is the largest island in the world?",
                    options: ["Borneo", "Madagascar", "Greenland", "New Guinea"],
                    answer: 2
                }
            ],
            sports: [
                {
                    question: "How many players are on a soccer team?",
                    options: ["9", "10", "11", "12"],
                    answer: 2
                },
                {
                    question: "Which country won the first FIFA World Cup?",
                    options: ["Brazil", "Uruguay", "Italy", "Germany"],
                    answer: 1
                },
                {
                    question: "In which sport would you perform a slam dunk?",
                    options: ["Tennis", "Basketball", "Volleyball", "Badminton"],
                    answer: 1
                },
                {
                    question: "How many rings are on the Olympic flag?",
                    options: ["4", "5", "6", "7"],
                    answer: 1
                },
                {
                    question: "Which boxer was known as 'The Greatest'?",
                    options: ["Mike Tyson", "Muhammad Ali", "Joe Frazier", "George Foreman"],
                    answer: 1
                },
                {
                    question: "What is the national sport of Canada?",
                    options: ["Hockey", "Basketball", "Lacrosse", "Soccer"],
                    answer: 2
                },
                {
                    question: "Which tennis player has the most Grand Slam titles?",
                    options: ["Roger Federer", "Rafael Nadal", "Novak Djokovic", "Margaret Court"],
                    answer: 3
                },
                {
                    question: "In baseball, how many strikes make an out?",
                    options: ["2", "3", "4", "5"],
                    answer: 1
                },
                {
                    question: "Which country has won the most Rugby World Cups?",
                    options: ["Australia", "New Zealand", "South Africa", "England"],
                    answer: 1
                },
                {
                    question: "What is the maximum break in snooker?",
                    options: ["147", "155", "167", "180"],
                    answer: 0
                },
                {
                    question: "Which athlete has won the most Olympic medals?",
                    options: ["Usain Bolt", "Michael Phelps", "Carl Lewis", "Larisa Latynina"],
                    answer: 1
                },
                {
                    question: "In golf, what is a hole in one called?",
                    options: ["Eagle", "Birdie", "Ace", "Albatross"],
                    answer: 2
                },
                {
                    question: "Which country invented basketball?",
                    options: ["Canada", "USA", "UK", "Australia"],
                    answer: 1
                },
                {
                    question: "How long is a marathon?",
                    options: ["26.2 miles", "13.1 miles", "50 miles", "100 miles"],
                    answer: 0
                },
                {
                    question: "Which sport uses a shuttlecock?",
                    options: ["Tennis", "Badminton", "Squash", "Table Tennis"],
                    answer: 1
                }
            ]
        };

        // Number Prediction Sequences (15 sequences)
        const numberSequences = {
            fibonacci: [
                { sequence: [0, 1, 1, 2, 3], next: 5 },
                { sequence: [1, 1, 2, 3, 5], next: 8 },
                { sequence: [2, 3, 5, 8, 13], next: 21 },
                { sequence: [3, 5, 8, 13, 21], next: 34 },
                { sequence: [5, 8, 13, 21, 34], next: 55 },
                { sequence: [8, 13, 21, 34, 55], next: 89 },
                { sequence: [13, 21, 34, 55, 89], next: 144 },
                { sequence: [21, 34, 55, 89, 144], next: 233 },
                { sequence: [34, 55, 89, 144, 233], next: 377 },
                { sequence: [55, 89, 144, 233, 377], next: 610 },
                { sequence: [89, 144, 233, 377, 610], next: 987 },
                { sequence: [144, 233, 377, 610, 987], next: 1597 },
                { sequence: [233, 377, 610, 987, 1597], next: 2584 },
                { sequence: [377, 610, 987, 1597, 2584], next: 4181 },
                { sequence: [610, 987, 1597, 2584, 4181], next: 6765 }
            ],
            primes: [
                { sequence: [2, 3, 5, 7, 11], next: 13 },
                { sequence: [3, 5, 7, 11, 13], next: 17 },
                { sequence: [5, 7, 11, 13, 17], next: 19 },
                { sequence: [7, 11, 13, 17, 19], next: 23 },
                { sequence: [11, 13, 17, 19, 23], next: 29 },
                { sequence: [13, 17, 19, 23, 29], next: 31 },
                { sequence: [17, 19, 23, 29, 31], next: 37 },
                { sequence: [19, 23, 29, 31, 37], next: 41 },
                { sequence: [23, 29, 31, 37, 41], next: 43 },
                { sequence: [29, 31, 37, 41, 43], next: 47 },
                { sequence: [31, 37, 41, 43, 47], next: 53 },
                { sequence: [37, 41, 43, 47, 53], next: 59 },
                { sequence: [41, 43, 47, 53, 59], next: 61 },
                { sequence: [43, 47, 53, 59, 61], next: 67 },
                { sequence: [47, 53, 59, 61, 67], next: 71 }
            ],
            arithmetic: [
                { sequence: [2, 4, 6, 8, 10], next: 12 },
                { sequence: [5, 10, 15, 20, 25], next: 30 },
                { sequence: [3, 6, 9, 12, 15], next: 18 },
                { sequence: [7, 14, 21, 28, 35], next: 42 },
                { sequence: [10, 20, 30, 40, 50], next: 60 },
                { sequence: [1, 4, 7, 10, 13], next: 16 },
                { sequence: [12, 24, 36, 48, 60], next: 72 },
                { sequence: [8, 16, 24, 32, 40], next: 48 },
                { sequence: [15, 30, 45, 60, 75], next: 90 },
                { sequence: [20, 40, 60, 80, 100], next: 120 },
                { sequence: [6, 12, 18, 24, 30], next: 36 },
                { sequence: [9, 18, 27, 36, 45], next: 54 },
                { sequence: [11, 22, 33, 44, 55], next: 66 },
                { sequence: [13, 26, 39, 52, 65], next: 78 },
                { sequence: [17, 34, 51, 68, 85], next: 102 }
            ],
            geometric: [
                { sequence: [2, 4, 8, 16, 32], next: 64 },
                { sequence: [3, 9, 27, 81, 243], next: 729 },
                { sequence: [5, 25, 125, 625, 3125], next: 15625 },
                { sequence: [1, 2, 4, 8, 16], next: 32 },
                { sequence: [4, 16, 64, 256, 1024], next: 4096 },
                { sequence: [6, 36, 216, 1296, 7776], next: 46656 },
                { sequence: [7, 49, 343, 2401, 16807], next: 117649 },
                { sequence: [8, 64, 512, 4096, 32768], next: 262144 },
                { sequence: [9, 81, 729, 6561, 59049], next: 531441 },
                { sequence: [10, 100, 1000, 10000, 100000], next: 1000000 },
                { sequence: [11, 121, 1331, 14641, 161051], next: 1771561 },
                { sequence: [12, 144, 1728, 20736, 248832], next: 2985984 },
                { sequence: [13, 169, 2197, 28561, 371293], next: 4826809 },
                { sequence: [14, 196, 2744, 38416, 537824], next: 7529536 },
                { sequence: [15, 225, 3375, 50625, 759375], next: 11390625 }
            ]
        };

        // Word Association Chains (15 chains)
        const wordChains = [
            {
                start: "Ocean",
                chain: ["Wave", "Beach", "Sand", "Castle", "King", "Queen", "Crown", "Jewel", "Diamond", "Ring", "Phone", "Call", "Contact", "Lens", "Camera"],
                options: ["Wave", "Mountain", "Forest", "Desert"]
            },
            {
                start: "Fire",
                chain: ["Heat", "Sun", "Light", "Bulb", "Electricity", "Power", "Plant", "Tree", "Leaf", "Book", "Read", "Story", "Time", "Clock", "Watch"],
                options: ["Heat", "Water", "Earth", "Air"]
            },
            {
                start: "Computer",
                chain: ["Keyboard", "Piano", "Music", "Sound", "Wave", "Ocean", "Fish", "Chips", "Potato", "Couch", "TV", "Show", "Business", "Money", "Bank"],
                options: ["Keyboard", "Screen", "Mouse", "Printer"]
            },
            {
                start: "Book",
                chain: ["Page", "Turn", "Leaf", "Tree", "Forest", "Animal", "Zoo", "Cage", "Bird", "Fly", "Airplane", "Pilot", "Captain", "Ship", "Sail"],
                options: ["Page", "Cover", "Author", "Story"]
            },
            {
                start: "Music",
                chain: ["Note", "Book", "Read", "Letter", "Mail", "Post", "Office", "Work", "Job", "Career", "Path", "Road", "Car", "Drive", "License"],
                options: ["Note", "Sound", "Instrument", "Concert"]
            },
            {
                start: "Water",
                chain: ["Drink", "Thirst", "Desert", "Camel", "Animal", "Kingdom", "King", "Arthur", "Knight", "Armor", "Steel", "Metal", "Rock", "Roll", "Dice"],
                options: ["Drink", "Swim", "Boat", "Rain"]
            },
            {
                start: "Sun",
                chain: ["Light", "Bulb", "Idea", "Think", "Brain", "Head", "Hair", "Cut", "Paper", "Write", "Pen", "Ink", "Octopus", "Ocean", "Water"],
                options: ["Light", "Heat", "Star", "Sky"]
            },
            {
                start: "Time",
                chain: ["Clock", "Watch", "See", "Eye", "Vision", "Dream", "Sleep", "Bed", "Room", "House", "Home", "Family", "Tree", "Apple", "Fruit"],
                options: ["Clock", "Watch", "Hour", "Minute"]
            },
            {
                start: "Money",
                chain: ["Cash", "Register", "Store", "Shop", "Mall", "Park", "Car", "Drive", "Test", "Exam", "School", "Teacher", "Student", "Learn", "Study"],
                options: ["Cash", "Coin", "Bank", "Wallet"]
            },
            {
                start: "Food",
                chain: ["Eat", "Meal", "Time", "Clock", "Watch", "See", "View", "Mountain", "Climb", "Ladder", "Step", "Dance", "Music", "Sound", "Noise"],
                options: ["Eat", "Cook", "Taste", "Hunger"]
            },
            {
                start: "Game",
                chain: ["Play", "Fun", "Joy", "Happy", "Smile", "Face", "Head", "Shoulders", "Knees", "Toes", "Foot", "Shoe", "Lace", "Race", "Car"],
                options: ["Play", "Win", "Lose", "Score"]
            },
            {
                start: "City",
                chain: ["Build", "Construction", "Worker", "Job", "Career", "Path", "Road", "Street", "Name", "Fame", "Celebrity", "Star", "Sky", "Blue", "Sea"],
                options: ["Build", "Live", "Work", "Travel"]
            },
            {
                start: "Night",
                chain: ["Dark", "Black", "White", "Snow", "Cold", "Ice", "Cube", "Sugar", "Sweet", "Candy", "Store", "Shop", "Mall", "Park", "Tree"],
                options: ["Dark", "Moon", "Star", "Sleep"]
            },
            {
                start: "Friend",
                chain: ["Ship", "Boat", "Sail", "Ocean", "Water", "Drink", "Thirst", "Quench", "Fire", "Heat", "Summer", "Winter", "Cold", "Snow", "Man"],
                options: ["Ship", "Love", "Trust", "Help"]
            },
            {
                start: "Dream",
                chain: ["Sleep", "Bed", "Room", "House", "Home", "Family", "Tree", "Apple", "Fruit", "Salad", "Dressing", "Room", "Theater", "Movie", "Star"],
                options: ["Sleep", "Hope", "Wish", "Goal"]
            }
        ];

        // Achievements Data
        const achievements = [
            { id: 'first_win', name: 'First Victory', description: 'Win your first game', icon: '🏆', unlocked: false },
            { id: 'high_roller', name: 'High Roller', description: 'Bet 500 coins in a single game', icon: '💰', unlocked: false },
            { id: 'math_wiz', name: 'Math Wiz', description: 'Answer 10 math problems correctly in a row', icon: '🧮', unlocked: false },
            { id: 'memory_master', name: 'Memory Master', description: 'Complete a memory matrix with 20+ sequences', icon: '🧠', unlocked: false },
            { id: 'trivia_expert', name: 'Trivia Expert', description: 'Answer 50 trivia questions correctly', icon: '📚', unlocked: false },
            { id: 'slot_king', name: 'Slot King', description: 'Hit the jackpot on the slot machine', icon: '🎰', unlocked: false },
            { id: 'word_smith', name: 'Word Smith', description: 'Complete a 15-word association chain', icon: '📖', unlocked: false },
            { id: 'poker_pro', name: 'Poker Pro', description: 'Get a royal flush in poker', icon: '♠️', unlocked: false },
            { id: 'streak_10', name: 'Hot Streak', description: 'Achieve a 10-game winning streak', icon: '🔥', unlocked: false },
            { id: 'daily_player', name: 'Daily Player', description: 'Play for 7 consecutive days', icon: '📅', unlocked: false },
            { id: 'jackpot_winner', name: 'Jackpot Winner', description: 'Win the progressive jackpot', icon: '💎', unlocked: false },
            { id: 'combo_master', name: 'Combo Master', description: 'Get a 5x multiplier combo', icon: '⚡', unlocked: false },
            { id: 'level_10', name: 'Seasoned Player', description: 'Reach level 10', icon: '⭐', unlocked: false },
            { id: 'coin_collector', name: 'Coin Collector', description: 'Accumulate 10,000 coins', icon: '🪙', unlocked: false },
            { id: 'all_games', name: 'Game Explorer', description: 'Play all 8 games at least once', icon: '🎮', unlocked: false },
            { id: 'expert_mode', name: 'Expert Mode', description: 'Complete a game on expert difficulty', icon: '🎯', unlocked: false },
            { id: 'power_user', name: 'Power User', description: 'Use 10 power-ups', icon: '💫', unlocked: false },
            { id: 'fast_fingers', name: 'Fast Fingers', description: 'Complete a game in under 30 seconds', icon: '⚡', unlocked: false },
            { id: 'risk_taker', name: 'Risk Taker', description: 'Win a double-or-nothing bet', icon: '🎲', unlocked: false },
            { id: 'completionist', name: 'Completionist', description: 'Unlock all other achievements', icon: '🏅', unlocked: false }
        ];

        // DOM Elements
        const gameGrid = document.getElementById('gameGrid');
        const gameScreen = document.getElementById('gameScreen');
        const achievementsGrid = document.getElementById('achievementsGrid');
        const notification = document.getElementById('notification');
        const notificationTitle = document.getElementById('notificationTitle');
        const notificationMessage = document.getElementById('notificationMessage');

        // Initialize the game
        function init() {
            loadGameState();
            renderGameGrid();
            renderAchievements();
            updateStatsDisplay();
        }

        // Load game state from localStorage
        function loadGameState() {
            const savedState = localStorage.getItem('funGamesState');
            if (savedState) {
                Object.assign(gameState, JSON.parse(savedState));
            }
            
            // Load achievements
            const savedAchievements = localStorage.getItem('funGamesAchievements');
            if (savedAchievements) {
                const achData = JSON.parse(savedAchievements);
                achievements.forEach(ach => {
                    if (achData.includes(ach.id)) {
                        ach.unlocked = true;
                    }
                });
            }
        }

        // Save game state to localStorage
        function saveGameState() {
            localStorage.setItem('funGamesState', JSON.stringify(gameState));
            
            // Save unlocked achievements
            const unlockedAchievements = achievements.filter(a => a.unlocked).map(a => a.id);
            localStorage.setItem('funGamesAchievements', JSON.stringify(unlockedAchievements));
        }

        // Update the stats display
        function updateStatsDisplay() {
            document.getElementById('coins').textContent = gameState.coins.toLocaleString();
            document.getElementById('level').textContent = gameState.level;
            document.getElementById('streak').textContent = gameState.streak;
            document.getElementById('achievements').textContent = `${achievements.filter(a => a.unlocked).length}/${achievements.length}`;
            document.getElementById('jackpot').textContent = gameState.jackpot.toLocaleString();
        }

        // Render the game grid
        function renderGameGrid() {
            gameGrid.innerHTML = '';
            
            games.forEach(game => {
                const gameCard = document.createElement('div');
                gameCard.className = 'game-card';
                gameCard.innerHTML = `
                    <div class="game-icon">${game.icon}</div>
                    <h3 class="game-title">${game.title}</h3>
                    <p class="game-desc">${game.description}</p>
                    <div class="difficulty-badges">
                        ${game.difficulties.map(diff => `<span class="difficulty-badge ${diff.toLowerCase()}">${diff}</span>`).join('')}
                    </div>
                `;
                
                gameCard.addEventListener('click', () => openGame(game.id));
                gameGrid.appendChild(gameCard);
            });
        }

        // Render achievements
        function renderAchievements() {
            achievementsGrid.innerHTML = '';
            
            achievements.forEach(achievement => {
                const achievementCard = document.createElement('div');
                achievementCard.className = `achievement-card ${achievement.unlocked ? '' : 'locked'}`;
                achievementCard.innerHTML = `
                    <div class="achievement-icon">${achievement.icon}</div>
                    <div class="achievement-name">${achievement.name}</div>
                    <div class="achievement-desc">${achievement.description}</div>
                `;
                
                achievementsGrid.appendChild(achievementCard);
            });
        }

        // Open a game
        function openGame(gameId) {
            const game = games.find(g => g.id === gameId);
            if (!game) return;
            
            // Hide game grid, show game screen
            gameGrid.style.display = 'none';
            gameScreen.style.display = 'block';
            
            // Set up game screen header
            gameScreen.innerHTML = `
                <div class="game-header">
                    <button class="back-button" id="backButton">← Back to Games</button>
                    <h2>${game.title}</h2>
                    <div class="game-stats">Coins: ${gameState.coins}</div>
                </div>
                <div class="game-content" id="gameContent">
                    <div class="spinner"></div>
                    <p>Loading game...</p>
                </div>
            `;
            
            // Add back button functionality
            document.getElementById('backButton').addEventListener('click', closeGame);
            
            // Load the specific game
            setTimeout(() => loadGame(gameId), 500);
        }

        // Close the current game
        function closeGame() {
            gameScreen.style.display = 'none';
            gameGrid.style.display = 'grid';
            updateStatsDisplay();
            saveGameState();
        }

        // Load a specific game
        function loadGame(gameId) {
            const gameContent = document.getElementById('gameContent');
            
            switch (gameId) {
                case 'poker':
                    loadPokerGame(gameContent);
                    break;
                case 'memory':
                    loadMemoryGame(gameContent);
                    break;
                case 'math':
                    loadMathGame(gameContent);
                    break;
                case 'slots':
                    loadSlotsGame(gameContent);
                    break;
                case 'trivia':
                    loadTriviaGame(gameContent);
                    break;
                case 'prediction':
                    loadPredictionGame(gameContent);
                    break;
                case 'words':
                    loadWordGame(gameContent);
                    break;
                default:
                    // For other games, show a placeholder
                    gameContent.innerHTML = `
                        <h3>${games.find(g => g.id === gameId).title}</h3>
                        <p>This game is coming soon!</p>
                        <p>In the meantime, try one of our other exciting games.</p>
                        <button class="bet-button" id="demoPlay">Play Demo</button>
                    `;
                    
                    document.getElementById('demoPlay').addEventListener('click', () => {
                        showNotification('Demo Mode', 'This is a demonstration. Real gameplay coming soon!');
                        // Simulate a win
                        gameState.coins += 50;
                        gameState.streak += 1;
                        updateStatsDisplay();
                        createConfetti();
                    });
                    break;
            }
        }

        // Poker Game Implementation (existing code remains the same)
        function loadPokerGame(container) {
            // ... existing poker game code ...
            container.innerHTML = `
                <h3>Poker Hand Simulator</h3>
                <p>Test your poker skills with 5-card draw. Bet wisely!</p>
                
                <div class="poker-table">
                    <div class="player-hand" id="playerHand">
                        <!-- Cards will be generated here -->
                    </div>
                </div>
                
                <div class="betting-controls">
                    <button class="bet-button" data-bet="10">Bet 10</button>
                    <button class="bet-button" data-bet="50">Bet 50</button>
                    <button class="bet-button" data-bet="100">Bet 100</button>
                    <button class="bet-button" data-bet="500">Bet 500</button>
                </div>
                
                <div id="pokerResult"></div>
                <button class="spin-button" id="dealButton">Deal Hand</button>
            `;
            
            // ... rest of poker game implementation ...
        }

        // Memory Game Implementation (existing code remains the same)
        function loadMemoryGame(container) {
            // ... existing memory game code ...
        }

        // Math Game Implementation (existing code remains the same)
        function loadMathGame(container) {
            // ... existing math game code ...
        }

        // Slots Game Implementation (existing code remains the same)
        function loadSlotsGame(container) {
            // ... existing slots game code ...
        }

        // NEW GAME: Trivia Game Implementation
        function loadTriviaGame(container) {
            container.innerHTML = `
                <h3>Trivia Challenge</h3>
                <p>Test your knowledge across multiple categories!</p>
                
                <div class="trivia-container">
                    <div class="trivia-category">
                        <button class="category-button active" data-category="history">History</button>
                        <button class="category-button" data-category="science">Science</button>
                        <button class="category-button" data-category="geography">Geography</button>
                        <button class="category-button" data-category="sports">Sports</button>
                    </div>
                    
                    <div class="trivia-question" id="triviaQuestion">
                        Select a category to start!
                    </div>
                    
                    <div class="trivia-answers" id="triviaAnswers">
                        <!-- Answers will be generated here -->
                    </div>
                    
                    <div class="progress-container">
                        <div class="progress-bar" id="triviaTimer"></div>
                    </div>
                    
                    <div id="triviaStatus">Score: <span id="triviaScore">0</span></div>
                    <button class="spin-button" id="startTrivia">Start Game</button>
                </div>
            `;
            
            const categoryButtons = document.querySelectorAll('.category-button');
            const questionDiv = document.getElementById('triviaQuestion');
            const answersDiv = document.getElementById('triviaAnswers');
            const timerBar = document.getElementById('triviaTimer');
            const scoreSpan = document.getElementById('triviaScore');
            const statusDiv = document.getElementById('triviaStatus');
            const startButton = document.getElementById('startTrivia');
            
            let currentCategory = 'history';
            let currentQuestion = null;
            let score = 0;
            let timer;
            let timeLeft = 15;
            let gameActive = false;
            
            // Category selection
            categoryButtons.forEach(button => {
                button.addEventListener('click', () => {
                    categoryButtons.forEach(b => b.classList.remove('active'));
                    button.classList.add('active');
                    currentCategory = button.dataset.category;
                });
            });
            
            startButton.addEventListener('click', startTriviaGame);
            
            function startTriviaGame() {
                score = 0;
                gameActive = true;
                startButton.disabled = true;
                statusDiv.textContent = `Score: ${score}`;
                
                loadNextQuestion();
            }
            
            function loadNextQuestion() {
                const questions = triviaQuestions[currentCategory];
                currentQuestion = questions[Math.floor(Math.random() * questions.length)];
                
                questionDiv.textContent = currentQuestion.question;
                
                // Display answers
                answersDiv.innerHTML = '';
                currentQuestion.options.forEach((option, index) => {
                    const button = document.createElement('button');
                    button.className = 'trivia-answer';
                    button.textContent = option;
                    button.addEventListener('click', () => checkAnswer(index));
                    answersDiv.appendChild(button);
                });
                
                // Start timer
                startTimer();
            }
            
            function checkAnswer(selectedIndex) {
                if (!gameActive) return;
                
                clearInterval(timer);
                const buttons = answersDiv.querySelectorAll('.trivia-answer');
                
                if (selectedIndex === currentQuestion.answer) {
                    // Correct answer
                    buttons[selectedIndex].classList.add('correct');
                    score += 10 + Math.floor(timeLeft);
                    statusDiv.textContent = `Correct! Score: ${score}`;
                    gameState.coins += 5;
                    gameState.streak += 1;
                    gameState.totalWins += 1;
                    
                    setTimeout(() => {
                        if (gameActive) {
                            loadNextQuestion();
                        }
                    }, 1500);
                } else {
                    // Wrong answer
                    buttons[selectedIndex].classList.add('incorrect');
                    buttons[currentQuestion.answer].classList.add('correct');
                    gameOver();
                }
                
                updateStatsDisplay();
            }
            
            function startTimer() {
                timeLeft = 15;
                timerBar.style.width = '100%';
                
                timer = setInterval(() => {
                    timeLeft--;
                    timerBar.style.width = `${(timeLeft / 15) * 100}%`;
                    
                    if (timeLeft <= 0) {
                        gameOver();
                    }
                }, 1000);
            }
            
            function gameOver() {
                clearInterval(timer);
                gameActive = false;
                startButton.disabled = false;
                statusDiv.textContent = `Game Over! Final Score: ${score}`;
                
                if (score > 0) {
                    createConfetti();
                    checkAchievements();
                } else {
                    gameState.streak = 0;
                }
            }
        }

        // NEW GAME: Number Prediction Implementation
        function loadPredictionGame(container) {
            container.innerHTML = `
                <h3>Number Prediction</h3>
                <p>Identify the pattern and predict the next number!</p>
                
                <div class="prediction-container">
                    <div class="sequence-type">
                        <button class="sequence-button active" data-type="fibonacci">Fibonacci</button>
                        <button class="sequence-button" data-type="primes">Primes</button>
                        <button class="sequence-button" data-type="arithmetic">Arithmetic</button>
                        <button class="sequence-button" data-type="geometric">Geometric</button>
                    </div>
                    
                    <div class="sequence-display" id="sequenceDisplay">
                        Select a sequence type to start!
                    </div>
                    
                    <div class="prediction-options" id="predictionOptions">
                        <!-- Options will be generated here -->
                    </div>
                    
                    <div id="predictionStatus">Score: <span id="predictionScore">0</span></div>
                    <button class="spin-button" id="startPrediction">Start Game</button>
                </div>
            `;
            
            const sequenceButtons = document.querySelectorAll('.sequence-button');
            const sequenceDisplay = document.getElementById('sequenceDisplay');
            const optionsDiv = document.getElementById('predictionOptions');
            const scoreSpan = document.getElementById('predictionScore');
            const statusDiv = document.getElementById('predictionStatus');
            const startButton = document.getElementById('startPrediction');
            
            let currentType = 'fibonacci';
            let currentSequence = null;
            let score = 0;
            let gameActive = false;
            
            // Sequence type selection
            sequenceButtons.forEach(button => {
                button.addEventListener('click', () => {
                    sequenceButtons.forEach(b => b.classList.remove('active'));
                    button.classList.add('active');
                    currentType = button.dataset.type;
                });
            });
            
            startButton.addEventListener('click', startPredictionGame);
            
            function startPredictionGame() {
                score = 0;
                gameActive = true;
                startButton.disabled = true;
                statusDiv.textContent = `Score: ${score}`;
                
                loadNextSequence();
            }
            
            function loadNextSequence() {
                const sequences = numberSequences[currentType];
                currentSequence = sequences[Math.floor(Math.random() * sequences.length)];
                
                sequenceDisplay.textContent = currentSequence.sequence.join(', ') + ', ?';
                
                // Generate options (correct answer + 3 wrong answers)
                const options = [currentSequence.next];
                while (options.length < 4) {
                    const wrongAnswer = currentSequence.next + Math.floor(Math.random() * 20) - 10;
                    if (wrongAnswer !== currentSequence.next && !options.includes(wrongAnswer) && wrongAnswer > 0) {
                        options.push(wrongAnswer);
                    }
                }
                
                // Shuffle options
                options.sort(() => Math.random() - 0.5);
                
                // Display options
                optionsDiv.innerHTML = '';
                options.forEach(option => {
                    const button = document.createElement('button');
                    button.className = 'prediction-option';
                    button.textContent = option;
                    button.addEventListener('click', () => checkPrediction(option));
                    optionsDiv.appendChild(button);
                });
            }
            
            function checkPrediction(selectedOption) {
                if (!gameActive) return;
                
                if (selectedOption === currentSequence.next) {
                    // Correct prediction
                    score += 20;
                    statusDiv.textContent = `Correct! Score: ${score}`;
                    gameState.coins += 10;
                    gameState.streak += 1;
                    gameState.totalWins += 1;
                    
                    setTimeout(() => {
                        if (gameActive) {
                            loadNextSequence();
                        }
                    }, 1000);
                } else {
                    // Wrong prediction
                    gameOver();
                }
                
                updateStatsDisplay();
            }
            
            function gameOver() {
                gameActive = false;
                startButton.disabled = false;
                statusDiv.textContent = `Game Over! Final Score: ${score}`;
                
                if (score > 0) {
                    createConfetti();
                    checkAchievements();
                } else {
                    gameState.streak = 0;
                }
            }
        }

        // NEW GAME: Word Association Implementation
        function loadWordGame(container) {
            container.innerHTML = `
                <h3>Word Association Chain</h3>
                <p>Connect words logically to build the longest chain!</p>
                
                <div class="word-association-container">
                    <div class="word-chain" id="wordChain">
                        <!-- Word chain will be displayed here -->
                    </div>
                    
                    <div class="word-options" id="wordOptions">
                        <!-- Word options will be generated here -->
                    </div>
                    
                    <div class="progress-container">
                        <div class="progress-bar" id="wordTimer"></div>
                    </div>
                    
                    <div id="wordStatus">Chain Length: <span id="chainLength">0</span></div>
                    <button class="spin-button" id="startWord">Start Game</button>
                </div>
            `;
            
            const wordChain = document.getElementById('wordChain');
            const wordOptions = document.getElementById('wordOptions');
            const timerBar = document.getElementById('wordTimer');
            const chainLengthSpan = document.getElementById('chainLength');
            const statusDiv = document.getElementById('wordStatus');
            const startButton = document.getElementById('startWord');
            
            let currentChain = null;
            let currentIndex = 0;
            let chainLength = 0;
            let timer;
            let timeLeft = 10;
            let gameActive = false;
            
            startButton.addEventListener('click', startWordGame);
            
            function startWordGame() {
                chainLength = 0;
                gameActive = true;
                startButton.disabled = true;
                statusDiv.textContent = `Chain Length: ${chainLength}`;
                
                loadNextChain();
            }
            
            function loadNextChain() {
                currentChain = wordChains[Math.floor(Math.random() * wordChains.length)];
                currentIndex = 0;
                
                // Display the starting word
                wordChain.innerHTML = `<div class="word-item current">${currentChain.start}</div>`;
                
                // Display options for the next word
                displayWordOptions();
                
                // Start timer
                startWordTimer();
            }
            
            function displayWordOptions() {
                wordOptions.innerHTML = '';
                currentChain.options.forEach(option => {
                    const button = document.createElement('button');
                    button.className = 'word-option';
                    button.textContent = option;
                    button.addEventListener('click', () => checkWordAssociation(option));
                    wordOptions.appendChild(button);
                });
            }
            
            function checkWordAssociation(selectedWord) {
                if (!gameActive) return;
                
                clearInterval(timer);
                
                if (selectedWord === currentChain.chain[currentIndex]) {
                    // Correct association
                    currentIndex++;
                    chainLength++;
                    
                    // Add the word to the chain
                    const wordItem = document.createElement('div');
                    wordItem.className = 'word-item current';
                    wordItem.textContent = selectedWord;
                    wordChain.appendChild(wordItem);
                    
                    statusDiv.textContent = `Chain Length: ${chainLength}`;
                    gameState.coins += 5;
                    gameState.streak += 1;
                    gameState.totalWins += 1;
                    
                    // Check if chain is complete
                    if (currentIndex >= currentChain.chain.length) {
                        gameState.coins += 50; // Bonus for completing chain
                        showNotification('Chain Complete!', 'You completed the entire word chain!');
                        createConfetti();
                        setTimeout(() => {
                            if (gameActive) {
                                loadNextChain();
                            }
                        }, 2000);
                    } else {
                        // Continue with next word
                        displayWordOptions();
                        startWordTimer();
                    }
                } else {
                    // Wrong association
                    gameOver();
                }
                
                updateStatsDisplay();
            }
            
            function startWordTimer() {
                timeLeft = 10;
                timerBar.style.width = '100%';
                
                timer = setInterval(() => {
                    timeLeft--;
                    timerBar.style.width = `${(timeLeft / 10) * 100}%`;
                    
                    if (timeLeft <= 0) {
                        gameOver();
                    }
                }, 1000);
            }
            
            function gameOver() {
                clearInterval(timer);
                gameActive = false;
                startButton.disabled = false;
                statusDiv.textContent = `Game Over! Final Chain Length: ${chainLength}`;
                
                if (chainLength > 0) {
                    checkAchievements();
                } else {
                    gameState.streak = 0;
                }
            }
        }

        // Achievement System (existing code remains the same)
        function checkAchievements() {
            // ... existing achievement checking code ...
        }

        function unlockAchievement(achievementId) {
            // ... existing achievement unlocking code ...
        }

        // Notification System (existing code remains the same)
        function showNotification(title, message) {
            // ... existing notification code ...
        }

        // Confetti Effect (existing code remains the same)
        function createConfetti() {
            // ... existing confetti code ...
        }

        // Initialize the game when the page loads
        window.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>